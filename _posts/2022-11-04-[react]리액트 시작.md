---
categories: react
---

# 왜 리액트인가?

한때는 자바스크립트는 웹 브라우저에서 가단한 연산을 하거나 시각적인 효과를 주는 단순한 스크립트 언어 였다.

이제는 자바스크립트만으로 규모가 큰 애플리케이션을 만들 수 있는 시대가 왔다.

자바스크립트 기반 프레임 워크

애플리케이션 구조 관리를 위해 다양한 프레임워크를 만들어 다른 관점에서 이를 해결하려고 노력

리액트는 어떤 데이터가 변할 때마다 어떤 변화를 줄지 고민하는 것이 아니라

그냥 기존 뷰를 날려 버리고 처음부터 새로 랜더링하는 방식을 사용

---

# 리액트 이해

구조가 MVC, MVW 등인 프레임워크와 달리

오직 `V(view)`만 신경 쓰는 라이브러리

리액트에서 컴포넌트란 특정 부분이 어떻게 생길지 정하는 선언체이다.

사용자 인터페이스를 다룰 때 사요하는 템플릿과는 다른 개념이다.

컴포넌트는 재사용이 가능한 API로 수많은 기능들을 내장하고 있다.

랜더링이란 사용자 화면에 뷰를 보여주는 것이다.

리액트 라이브러리가 뷰를 어떻게 랜더링하길래 데이터가 변할 때 마다

새롭게 리렌더링하면서 성능을 아끼고, 최적의 사용자 경험을 제공할 수 있을까?

답은 리액트 컴포넌트가 최초로 실행한 `초기 렌더링` 과 컴포넌트의 데이터 변경으로 다시 실행되는 `리렌더링` 개념을 이해해야 한다.

---

## 초기 렌더링

리액트에서는 render 함수가 초기 렌더링을 담당한다.

초기 렌더링은 맨 처음 어떻게 보일지를 정하는 것이다.

render 함수는 컴포넌트가 어떻게 생겼는지 정의하는 역할을 한다.

html 형식의 문자열을 반환하지 않는다.

컴포넌트 내부에는 또 다른 컴포넌트들이 들어갈 수 있다.

render 함수를 실행하면 그 내부에 있는 컴포넌트들도 재귀적으로 렌더링한다.

최상위 컴포넌트의 렌더링 작업이 끝나면 지니고 있는 정보들을 사용해

HTML 마크업을 만든다.

그리고 우리가 정하는 실제 페이지의 DOM 요소 안에 주입한다.

---

## 값이 바뀔 때 업데이트 방법

리액트에서 뷰를 업데이트할 때는 업데이트 과정을 거친다라기 보다.

조화과정 (reconciliation) 을 거친다 라고 하는 것이 더 정확한 표현

컴포넌트가 데이터를 업데이트했을 때 단순히 업데이트한 값을 수정하는 것이 아니라,

새로운 데이터를 가지고 render 함수를 또 다시 호출한다.

이전에 render 함수가 만들었던 컴포넌트 정보와

현재 render 함수가 만든 컴포넌트 정보를 비교한다.

자바스크립트를 사용하여 두 가지 뷰를 최소한의 연산으로 비교한 후,

둘의 차이를 알아내 최소한의 연산으로 DOM 트리를 업데이트 한다.

결국 방식 자체는 루트 노드부터 시작해서 전체 컴포넌트를 처음부터 다시 렌더링하는 것처럼 보이지만, 사실 최적의 자원을 사용하여 이를 수행한다.

---

# 리액트의 특징

Virtual DOM을 사용

## DOM이란?

Document Object Model의 약어

객체로 문서 구조를 표현하는 방법으로 XML이나 HTML로 작성한다.

자바스크립트와 CSS를 웹 브라우저는 DOM을 활용하여 객체에 적용한다.

DOM은 트리 형태이다.

DOM은 동적 UI에 최적화되어 있지 않다는 치명적인 문제점이 있다.

HTML은 정적이며 javascript는 이를 동적으로 만든다.

요즘 자바스크립트 엔진은 매우 빠른 반면, DOM은 느리다는 말은 정확한 말이 아니다.

웹 브라우저 단에서 DOM에 변화가 일어나면 웹 브라우저가 CSS를 다시 연산하고, 레이아웃을 구성

하고 페이지를 리페인트 하는 과정에서 시간이 허비되는 것이다.

리액는 Virtual DOM 방식을 사용하여 DOM 업데이트를 추상화함으로써 DOM 처리 횟수를 최소화하고 효율적으로 진행

---

## Virtual DOM

실제 DOM에 접근하여 조작하는 것이 아닌,

이를 추상화한 자바스크립트 캑체를 구성하여 사용

실제 DOM의 가벼운 사본과 비슷

리액트에서 데이터가 변할 때 DOM

1. 데이터를 업데이트하면 전체 UI를 Virtual DOM에 리렌더링
2. 이전 Virtual DOM에 있던 내용과 현재 내용을 비교
3. 바뀐 부분만 실제 DOM에 적용

---

## 기타 특징

리액트는 라이브러리이다.

리액트는 오직 뷰만 담당한다.

리액트는 뷰만 신경쓰는 라이브러리이므로

기타 기능은 다른 개발자들이 만든 라이브러리를 사용해야 한다.

라우팅에는 리액트 라우터 (react-router)

ajax처리에는 axios, fetch

상태 관리에는 리덕스(redux)나 MobX를 사용

리액트는 다른 웹 프레임워크나 라이브러리와 혼용할 수도 있다.

예를 들면 AngularJS나 Backbone.js등의 프레임워크와 함께 사용 가능

---

# 작업 환경 설정

Node.js 반드시 먼저 설치

웹 브라우저 환경이 아닌 웹 서버, 모바일 애플리케이션, 데스크톱 애플리케이션 영역에서도 자바스크립트를 사용하여 연산할 수 있게 한다.

리액트 애플리케이션은 웹 브라우저에서 실행되는 코드이므로 Node.js와 직접적인 연관은 없지만,

프로젝트를 개발하는 데 필요한 주요 도구들이 Node.js를 사용하기 떄문에 설치

개발 도구에는 ECMAScript 6를 호환시켜주는 `바벨(babel)`,

모듈화된 코드를 한 파일로 합치고(번들링) 코드를 수정할 때마다 웹 브라우저를 리로딩하는 등의 여러 기능을 지는 `웹팩(webpack)` 등이 있다.

## macOS, Ubuntu

### nvm 도구 설치

Node.js를 여러 버전으로 관리해주기 위한 nvm 도구 설치

```powershell
$ curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.2/install.sh | bash
$ nvm --version
# 0.33.11
$ nvm install --lts
# LTS 버전 설치
```

### Yarn

npm보다 더 빠르며 효율적인 캐시 시스템과 기타 부가 기능을 제공

```powershell
$ curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -
$ echo "deb https://dl.yarnpkg.com/debian/ stable main" | sudo tee /etc/apt/sourc
es. list.d/yarn.list
$ sudo apt-get update && sudo apt-get install --no-install-recommends yarn
$ echo 'export PATH="$(yarn global bin):$PATH"' >> ~/.bashrc
$ yarn -v
# 1.22.18
```

## create-react-app으로 프로젝트 생성

리액트 프로젝트를 생성할 때 필요한 웹팩, 바벨의 설치 및 설정 과정을 생략하고 바로 간편하게 프로젝트 작업 환경을 구축해주는 도구
